{"version":3,"sources":["components/sub/labels.jsx","components/sub/navigation.jsx","components/sub/canvas.jsx","components/sub/note.jsx","components/sub/notes.jsx","components/main/loaded.jsx"],"names":["Labels","props","theme","themeNumber","component","style","transition","className","onMouseEnter","state","L","forceSituation","setState","situation","onMouseLeave","console","log","Modal","open","showModal","onClose","onSubmit","e","preventDefault","availableLabels","includes","new","length","edit","onClick","value","placeholder","onChange","target","onFocus","map","i","modalCurrent","filter","l","editModal","autoFocus","find","label","slice","marginTop","list","key","name","current","archived","NavBar","React","useState","searchSelected","settingsSelected","src","alt","search","type","onBlur","opacity","document","location","reload","display","position","localStorage","clear","title","canvas","images","description","color","labels","pinned","showRest","pastStates","set","showDetails","addingLabel","addingImage","addingDrawing","labelSearchText","notes","showNoteDetails","addingNoteLabel","addingNoteDrawing","labelNoteSearchText","editingNote","currentHover","customLabels","loaded","DisabledCanvas","hideGrid","hideInterface","immediateLoading","saveData","data","disabled","catenaryColor","canvasHeight","canvasWidth","Canvas","ref","useRef","size","overflowY","width","undo","getSaveData","note","id","brushRadius","brushColor","window","innerHeight","innerWidth","colors","Component","a","marginBottom","accept","fileReader","FileReader","readAsDataURL","files","onload","result","err","message","hidden","for","c","bottom","right","zIndex","padding","checked","htmlFor","n","newId","uuid","newNote","notAllowCollapse","AnotherComponent","setItem","JSON","stringify","Notes","useDetectClickOutside","onTriggered","onInput","height","scrollHeight","left","marginRight","toLowerCase","Loaded","Icon","EmojiObjectsIcon","ArchiveIcon","EditOutlinedIcon","getItem","parse","firstTimeLoad","useEffect","toast","error"],"mappings":"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","file":"static/js/4.52ec097d.chunk.js","sourcesContent":["import React from 'react';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport EmojiObjectsIcon from '@material-ui/icons/EmojiObjectsOutlined';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport CheckOutlinedIcon from '@material-ui/icons/CheckOutlined';\r\nimport LabelOutlinedIcon from '@material-ui/icons/LabelOutlined';\r\nimport ArchiveIcon from '@material-ui/icons/Archive';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport LabelIcon from '@material-ui/icons/Label';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\r\n\r\nimport AddOutlinedIcon from '@material-ui/icons/AddOutlined';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\nexport const Labels = (props) => {\r\n\r\n    const number = props.themeNumber;\r\n    const theme = number === 1 ? \"dark-\" : \"light-\";\r\n\r\n    return (\r\n        <div component style={{ transition: \"all 0.5s\" }} className={theme + \"label\"} onMouseEnter={() => {\r\n            if (!props.state.L.forceSituation) {\r\n                props.setState(state => ({ ...state, L: { ...state.L, situation: \"\" } }))\r\n\r\n            }\r\n\r\n        }} onMouseLeave={() => {\r\n            console.log(props.state.L);\r\n            if (!props.state.L.forceSituation) {\r\n                props.setState(state => ({ ...state, L: { ...state.L, situation: \"mini-\" } }))\r\n            }\r\n        }}>\r\n            <Modal style={{ transition: \"all 0.5s\" }} open={props.state.L.showModal} onClose={() => { props.setState(state => ({ ...state, L: { ...state.L, showModal: !props.state.L.showModal } })) }}>\r\n                <div className={theme + \"label-modal\"}>\r\n                    <div className={theme + \"label-modal-container\"}>\r\n                        <h1 className={theme + \"label-modal-title\"}>Edit labels</h1>\r\n                        <form className={theme + \"label-modal-form\"} onSubmit={(e) => {\r\n                            e.preventDefault();\r\n                            if (!props.state.availableLabels.includes(props.state.L.new) && props.state.L.new !== \"Notes\") {\r\n                                if (props.state.L.new.length > 0) {\r\n                                    props.setState(state => ({ ...state, L: { ...state.L, new: \"\" }, availableLabels: [...props.state.availableLabels, props.state.L.new] }));\r\n                                }\r\n                            }\r\n\r\n                        }}>\r\n                            {props.state.L.edit ? <CloseOutlinedIcon onClick={() => props.setState(state => ({ ...state, L: { ...state.L, edit: false } }))} className={theme + \"label-modal-form-icon\"} /> : <AddOutlinedIcon onClick={() => props.setState(state => ({ ...state, L: { ...state.L, edit: true } }))} className={theme + \"label-modal-form-icon\"} />}\r\n                            <input value={props.state.L.new} placeholder=\"Create a label\" onChange={(e) => props.setState(state => ({ ...state, L: { ...state.L, new: e.target.value } }))} onFocus={() => props.setState(state => ({ ...state, L: { ...state.L, edit: true } }))} className={theme + \"label-modal-form-input\"} />\r\n                            {props.state.L.edit ? <CheckOutlinedIcon className={theme + \"label-modal-form-icon\"} onClick={() => {\r\n                                if (props.state.L.new.length > 0) {\r\n                                    props.setState(state => ({ ...state, L: { ...state.L, new: \"\" }, availableLabels: [...props.state.availableLabels, props.state.L.new] }));\r\n                                }\r\n                            }} /> : <div>&nbsp;</div>}\r\n                        </form>\r\n                        <div className={theme + \"label-modal-labels\"}>\r\n                            {props.state.availableLabels.map(i => {\r\n                                console.log(i);\r\n                                if (i === null) {\r\n                                    return null;\r\n                                }\r\n                                return (<div key={i} onMouseEnter={() => {\r\n                                    props.setState(state => ({ ...state, L: { ...state.L, modalCurrent: i } }));\r\n                                }} onMouseLeave={() => {\r\n                                    props.setState(state => ({ ...state, L: { ...state.L, modalCurrent: null } }));\r\n                                }}\r\n                                    className={theme + \"label-list-item \"} >\r\n\r\n                                    {props.state.L.modalCurrent === i ? <DeleteIcon onClick={() => props.setState(state => ({\r\n                                        ...props.state,\r\n                                        availableLabels: props.state.availableLabels.filter(l => {\r\n                                            if (l !== i) {\r\n                                                return l;\r\n                                            }\r\n                                        })\r\n\r\n                                    }))} className={theme + \"label-modal-labels-icon-left\"} /> : <LabelIcon className={theme + \"label-modal-labels-icon-left\"} />}\r\n\r\n                                    {props.state.L.editModal === i ? <form onSubmit={(e) => {\r\n                                        e.preventDefault();\r\n                                        props.setState(state => ({ ...state, L: { ...state.L, editModal: -1 } }));\r\n                                    }}> <input autoFocus={true} className={theme + \"label-modal-labels-input\"} value={props.state.availableLabels.find(label => label === i)} onChange={(e) => props.setState(state => ({\r\n                                        ...state,\r\n                                        availableLabels: state.availableLabels.map(label => {\r\n                                            if (label === i) {\r\n                                                return e.target.value;\r\n                                            }\r\n                                            else {\r\n                                                return label;\r\n                                            }\r\n                                        }), L: { ...state.L, editModal: e.target.value }\r\n\r\n                                    }))} /> </form> : <div><p onClick={() => { props.setState(state => ({ ...state, L: { ...state.L, editModal: i } })); }} className={theme + \"label-list-item-name\"}>{i.length > 17 ? i.slice(0, 13) + \"...\" : i}</p></div>}\r\n\r\n\r\n                                    {props.state.L.editModal === i ? <CheckOutlinedIcon className={theme + \"label-\" + props.state.L.situation + \"modal-labels-icon-edit\"} style={{ marginTop: \"-2rem\" }} onClick={() => {\r\n                                        props.setState(state => ({ ...state, L: { ...state.L, editModal: -1 } }));\r\n                                    }} /> : <EditIcon className={theme + \"label-modal-labels-icon-edit\"} onClick={() => {\r\n                                        props.setState(state => ({ ...state, L: { ...state.L, editModal: i } }));\r\n                                    }} />}\r\n                                </div>)\r\n\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                    <div className={theme + \"label-modal-close \"}>\r\n                        <button className={theme + \"label-modal-close-button \"} onClick={() => props.setState(state => ({ ...state, L: { ...state.L, showModal: false } }))}>Done</button>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n            <MenuIcon className={theme + \"label-\" + props.state.L.situation + \"icon\"} onClick={() => {\r\n                if (!props.state.L.forceSituation) {\r\n                    props.setState(state => ({ ...state, L: { ...state.L, situation: \"\", forceSituation: true } }))\r\n                }\r\n                else {\r\n                    props.setState(state => ({ ...state, L: { ...state.L, situation: \"mini-\", forceSituation: false } }))\r\n                }\r\n            }} />\r\n            <div style={{ transition: \"all 0.2s\" }} className={theme + \"label-\" + props.state.L.situation + \"list\"}>\r\n                {props.state.L.list.map(i => {\r\n                    let key = i.name;\r\n                    return (<div key={key} onClick={() => {\r\n                        if (key === \"Edit labels\") {\r\n                            props.setState(state => ({ ...state, L: { ...state.L, showModal: true } }));\r\n                        }\r\n                        else {\r\n                            if (key === \"Archived\") {\r\n                                props.setState(state => ({ ...state, L: { ...state.L, current: key }, filter: { ...state.filter, archived: true } }));\r\n                            }\r\n                            else {\r\n                                props.setState(state => ({ ...state, L: { ...state.L, current: key }, filter: { ...state.filter, archived: false } }));\r\n                            }\r\n\r\n                        }\r\n                    }} className={props.state.L.current === key ? theme + \"label-\" + props.state.L.situation + \"list-item \" + theme + \"label-\" + props.state.L.situation + \"list-item-current\" : theme + \"label-\" + props.state.L.situation + \"list-item\"}>{i.name === \"Notes\" ? <EmojiObjectsIcon className={theme + \"label-\" + props.state.L.situation + \"list-item-icon\"} /> : i.name === \"Archived\" ? <ArchiveIcon className={theme + \"label-\" + props.state.L.situation + \"list-item-icon\"} /> : <EditIcon className={theme + \"label-\" + props.state.L.situation + \"list-item-icon\"} />}<p className={theme + \"label-\" + props.state.L.situation + \"list-item-name\"}>{i.name}</p></div>)\r\n                })}\r\n                {props.state.availableLabels.map(i => {\r\n\r\n                    return (<div key={i} onClick={() => {\r\n\r\n                        props.setState(state => ({ ...state, L: { ...state.L, current: i }, filter: { ...state.filter, archived: false } }));\r\n\r\n\r\n                    }} className={props.state.L.current === i ? theme + \"label-\" + props.state.L.situation + \"list-item \" + theme + \"label-\" + props.state.L.situation + \"list-item-current\" : theme + \"label-\" + props.state.L.situation + \"list-item\"}><LabelOutlinedIcon className={theme + \"label-\" + props.state.L.situation + \"list-item-icon\"} /> <p className={theme + \"label-\" + props.state.L.situation + \"list-item-name\"}>{i.length > 17 ? i.slice(0, 13) + \"...\" : i}</p></div>)\r\n                })}\r\n            </div>\r\n        </div >);\r\n}\r\nexport default Labels;","import SearchIcon from '@material-ui/icons/SearchOutlined';\r\nimport RefreshIcon from '@material-ui/icons/RefreshOutlined';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { Close } from '@material-ui/icons';\r\nimport ViewStreamIcon from '@material-ui/icons/ViewAgendaOutlined';\r\n\r\nimport React from 'react';\r\nimport SettingsIcon from '@material-ui/icons/SettingsOutlined';\r\nimport AppsIcon from '@material-ui/icons/Apps';\r\n\r\nconst NavBar = (props) => {\r\n    const number = props.themeNumber;\r\n    const theme = number === 1 ? \"dark-\" : \"light-\";\r\n    const [state, setState] = React.useState({ searchSelected: false, settingsSelected: false })\r\n    return (\r\n        <div className={theme + \"navbar\"}>\r\n            <div className={theme + \"navbar-logo\"}>\r\n                <img src=\"https://image.flaticon.com/icons/png/512/107/107788.png\" alt=\"logo-img\" className={theme + \"navbar-logo-img\"} />\r\n                <h1 className={theme + \"navbar-logo-content\"}>Retain</h1>\r\n            </div>\r\n            <div className={state.searchSelected ? theme + \"navbar-search-current\" : theme + \"navbar-search\"} style={{transition: \"all 0.2s\" }}>\r\n                <SearchIcon className={state.searchSelected ? theme + \"navbar-search-current-icon\" : theme + \"navbar-search-icon\"} />\r\n                <input value={props.state.filter.search} onChange={(e) => {\r\n                    props.setState(state => ({ ...state, filter: { ...state.filter, search: e.target.value } }))\r\n                }} type=\"text\" onBlur={() => setState(state => ({ ...state, searchSelected: false }))} onFocus={() => setState(state => ({ ...state, searchSelected: true }))} placeholder=\"Search\" className={state.searchSelected ? theme + \"navbar-search-current-input\" : theme + \"navbar-search-input\"} />\r\n                <CloseIcon className={state.searchSelected ? theme + \"navbar-search-current-icon\" : theme + \"navbar-search-icon\"} style={!state.searchSelected ? { opacity: 0, transition: \"all 0s\" } : { opacity: 1, transition: \"all 0.2s\" }} onClick={() => {\r\n                    props.setState(state => ({ ...state, filter: { ...state.filter, search: \"\" } }))\r\n                }} />\r\n            </div>\r\n            <div className={theme + \"navbar-options\"}>\r\n                <RefreshIcon className={theme + \"navbar-options-item-icon\"} onClick={() => {\r\n                    document.location.reload();\r\n                }} />\r\n\r\n                <div style={{ display: \"inline\", position: \"relative\" }}>\r\n                    <SettingsIcon className={theme + \"navbar-options-item-icon\"} onClick={() => {\r\n                        setState(state => ({ ...state, settingsSelected: !state.settingsSelected }))\r\n                    }} />\r\n                    {state.settingsSelected ? <div className={theme + \"navbar-options-item-icon-settings\"} >\r\n                        <div className={theme + \"navbar-options-item-icon-settings-option\"} onClick={() => {\r\n                            localStorage.clear();\r\n                            props.setState({\r\n                                new: { title: \"\", canvas: [], images: [], list: false, description: \"\", color: \"default\", labels: [], pinned: false, archived: false }, showRest: false, pastStates: [{ title: \"\", set: true, canvas: [], images: [], archived: false, list: false, description: \"\", color: \"default\", labels: [], pinned: false }], availableLabels: [], current: 0, showDetails: false, addingLabel: false, addingImage: false, addingDrawing: false, labelSearchText: \"\", notes: [], showNoteDetails: null, addingNoteLabel: null, addingNoteDrawing: null, labelNoteSearchText: \"\", editingNote: {\r\n                                    title: \"\", canvas: [], images: [], set: false, description: \"\", color: \"default\", labels: [], pinned: false, archived: false\r\n                                }, currentHover: null, L: { current: \"Notes\", new: \"\", forceSituation: false, situation: \"mini-\", showModal: false, modalCurrent: -1, editModal: -1, list: [{ name: \"Notes\" }, { name: \"Archived\" }, { name: \"Edit labels\" }], customLabels: [] },\r\n                                filter: { search: \"\", archived: false }, loaded: false, themeNumber: 1\r\n                            })\r\n                            // document.location.reload();\r\n                        }}>\r\n                            Clear All Saved Data\r\n                        </div>\r\n                        <div className={theme + \"navbar-options-item-icon-settings-option\"} onClick={() => {\r\n                            props.setState(state => ({ ...state, themeNumber: state.themeNumber === 0 ? 1 : 0 }));\r\n                        }}>\r\n                            {theme === \"dark-\" ? \"Enable light mode\" : \"Enable dark mode\"}\r\n                        </div>\r\n                    </div> : null}\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default NavBar;","import { StarRateTwoTone } from '@material-ui/icons';\r\nimport React from 'react';\r\nimport CanvasDraw from \"react-canvas-draw\";\r\nimport { HexColorPicker } from \"react-colorful\";\r\n\r\n\r\nconst Canvas = (props) => {\r\n    const ref = React.useRef(null);\r\n    const [state, setState] = React.useState({ color: \"#452135\", size: 0, })\r\n    const sizes = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 30, 40, 50, 60, 100];\r\n    console.log(state);\r\n    return <div {...props} style={{ overflowY: \"scroll\" }}>\r\n        <div className={props.className + \"-editor\"}>\r\n            <div className={props.className + \"-editor-colorPicker\"}>\r\n                <HexColorPicker style={{width:\"50%\"}} color={state.color} onChange={(e) => setState(state => ({ ...state, color: e }))}  />\r\n            </div>\r\n            <div className={props.className + \"-editor-size\"}>\r\n\r\n                <select className={props.className + \"-editor-size-select\"} onChange={(e) => setState(state => ({ ...state, size: e.target.value }))}>\r\n                    {sizes.map(size => {\r\n                        return <option value={size}>{size}</option>\r\n                    })}\r\n                </select>\r\n            </div>\r\n            <div className={props.className + \"-editor-clear\"}>\r\n                <button className={props.className + \"-editor-clear-undo\"} onClick={() => { ref.current.undo(); }} >Undo</button>\r\n                <button className={props.className + \"-editor-clear-undo\"} onClick={() => { ref.current.clear(); }}> clear </button>\r\n            </div>\r\n            <br />\r\n            <div className={props.className + \"-editor-clear\"}>\r\n                <button className={props.className + \"-editor-clear-undo\"} onClick={() => {\r\n\r\n                    const data = ref.current.getSaveData();\r\n\r\n                    console.log(data);\r\n                    if (props.state.editingNote.set === true) {\r\n                        if (props.state.current < props.state.pastStates.length - 1) {\r\n                            let pastStates = props.state.pastStates.slice(0, state.current);\r\n                            props.setState(state => ({ ...state, editingNote: { ...state.editingNote, canvas: [...state.editingNote.canvas, data] }, pastStates: [...pastStates, { ...state.editingNote, canvas: [...state.editingNote.canvas, data] }], current: pastStates.length + 1, addingDrawing: false, addingNoteDrawing: null }));\r\n                        }\r\n                        else {\r\n                            props.setState(state => ({ ...state, editingNote: { ...state.editingNote, canvas: [...state.editingNote.canvas, data] }, pastStates: [...state.pastStates, { ...state.editingNote, canvas: [...state.editingNote.canvas, data] }], current: state.pastStates.length + 1, addingDrawing: false, addingNoteDrawing: null }));\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (props.state.addingNoteDrawing) {\r\n                            props.setState(state => ({\r\n                                ...state, notes: state.notes.map(note => {\r\n                                    if (note.id !== state.addingNoteDrawing) {\r\n                                        return note;\r\n                                    }\r\n                                    else {\r\n                                        return { ...note, canvas: [...note.canvas, data] };\r\n                                    }\r\n                                }), addingNoteDrawing: null, addingDrawing: false\r\n                            }));\r\n                        }\r\n                        else {\r\n                            if (props.state.current < props.state.pastStates.length - 1) {\r\n                                let pastStates = props.state.pastStates.slice(0, state.current);\r\n                                props.setState(state => ({ ...state, new: { ...state.new, canvas: [...state.new.canvas, data] }, pastStates: [...pastStates, { ...state.new, canvas: [...state.new.canvas, data] }], current: pastStates.length + 1, addingDrawing: false, addingNoteDrawing: null }));\r\n                            }\r\n                            else {\r\n                                props.setState(state => ({ ...state, new: { ...state.new, canvas: [...state.new.canvas, data] }, pastStates: [...state.pastStates, { ...state.new, canvas: [...state.new.canvas, data] }], current: state.pastStates.length + 1, addingDrawing: false, addingNoteDrawing: null }));\r\n                            }\r\n                        }\r\n\r\n                    }\r\n\r\n                }} >DONE</button>\r\n            </div>\r\n        </div>\r\n        <div className={props.className + \"-canvas\"}>\r\n            <CanvasDraw ref={ref} hideGrid={true} hideInterface={true} catenaryColor=\"transparent\" brushRadius={state.size} brushColor={state.color} canvasHeight={(window.innerHeight * 80 / 100)} canvasWidth={(window.innerWidth * 50 / 100)} />\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport const DisabledCanvas = (props) => {\r\n    if (props.type) {\r\n        if (props.type === 'in-note') {\r\n            if (props.length > 1) {\r\n                return <CanvasDraw hideGrid={true} hideInterface={true} immediateLoading={true} saveData={props.data} disabled={true} catenaryColor=\"transparent\" canvasHeight={68.4} canvasWidth={68.4} />\r\n            }\r\n            else {\r\n                return <CanvasDraw hideGrid={true} hideInterface={true} immediateLoading={true} saveData={props.data} disabled={true} catenaryColor=\"transparent\" canvasHeight={81} canvasWidth={81} />\r\n            }\r\n        }\r\n    }\r\n    return <CanvasDraw hideGrid={true} hideInterface={true} immediateLoading={true} saveData={props.data} disabled={true} catenaryColor=\"transparent\" canvasHeight={162} canvasWidth={162} />\r\n\r\n}\r\nexport default Canvas;","import React from 'react';\r\nimport ImageIcon from '@material-ui/icons/ImageOutlined';\r\nimport { useDetectClickOutside } from 'react-detect-click-outside';\r\nimport CheckBoxOutlinedIcon from '@material-ui/icons/CheckBoxOutlined';\r\nimport BrushOutlinedIcon from '@material-ui/icons/BrushOutlined';\r\nimport ColorLensOutlinedIcon from '@material-ui/icons/ColorLensOutlined';\r\nimport { v4 as uuid } from 'uuid';\r\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\r\nimport BookmarkIcon from '@material-ui/icons/Bookmark';\r\nimport Canvas, { DisabledCanvas } from './canvas';\r\nimport ArchiveOutlinedIcon from '@material-ui/icons/ArchiveOutlined';\r\nimport ArchiveIcon from '@material-ui/icons/Archive';\r\nimport MoreVertOutlinedIcon from '@material-ui/icons/MoreVertOutlined';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport UndoIcon from '@material-ui/icons/Undo';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport RedoIcon from '@material-ui/icons/Redo';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AddAlertIcon from '@material-ui/icons/AddAlert';\r\nconst colors = [\"default\", \"red\", \"orange\", \"yellow\", \"green\", \"teal\", \"blue\", \"darkBlue\", \"purple\", \"pink\", \"brown\", \"gray\"]\r\nconst Component = (props) => {\r\n    const a = props.a;\r\n    let state = props.state;\r\n    let setState = props.setState;\r\n    let theme = props.theme;\r\n    return (<div key={a.id}\r\n\r\n        onMouseEnter={() => {\r\n            setState(state => ({ ...state, currentHover: a.id }))\r\n        }} onMouseLeave={() => { setState(state => ({ ...state, currentHover: null })) }} className={theme + \"notes-notes-note-\" + a.color + \" \" + theme + \"notes-notes-note\"} style={{ position: \"relative\" }}>\r\n        {a.pinned ?\r\n            <BookmarkIcon\r\n                style={{ display: state.currentHover !== a.id ? \"none\" : \"block\" }}\r\n\r\n\r\n\r\n                onClick={() => {\r\n\r\n                    setState(state => ({\r\n                        ...state, notes: state.notes.map(note => {\r\n                            if (note.id !== a.id) {\r\n                                return note;\r\n                            }\r\n                            else {\r\n                                return { ...a, pinned: false }\r\n                            }\r\n                        })\r\n                    }))\r\n                }} className={theme + \"notes-notes-note-bookmark\"} />\r\n            : <BookmarkBorderIcon\r\n                style={{ display: state.currentHover !== a.id ? \"none\" : \"block\" }}\r\n                onClick={() => {\r\n\r\n                    setState(state => ({\r\n                        ...state, notes: state.notes.map(note => {\r\n                            if (note.id !== a.id) {\r\n                                return note;\r\n                            }\r\n                            else {\r\n                                return { ...a, pinned: true }\r\n                            }\r\n                        })\r\n                    }))\r\n                }} className={theme + \"notes-notes-note-bookmark\"} />\r\n\r\n        }\r\n        {a.canvas.length > 0 ? <div className={theme + \"notes-notes-note-canvas\"} onClick={() => {\r\n            setState(state => ({ ...state, editingNote: { ...a, set: true } }))\r\n        }}>\r\n            {a.canvas.map(canvas => {\r\n                return <div className={a.canvas.length === 1 ? theme + \"notes-notes-note-canvas-single\" : theme + \"notes-notes-note-canvas-multiple\"}>< DisabledCanvas type=\"in-note\" length={a.canvas.length} data={canvas} />\r\n                    {/* <br/> */}\r\n                </div>\r\n            })}\r\n\r\n        </div> : null}\r\n\r\n\r\n        {a.images.length > 0 ? <div className={theme + \"notes-notes-note-canvas\"} onClick={() => {\r\n            setState(state => ({ ...state, editingNote: { ...a, set: true } }))\r\n        }}>\r\n            {a.images.map(canvas => {\r\n                return <div className={a.images.length === 1 ? theme + \"notes-header-div-canvas-single\" : theme + \"notes-header-div-canvas-multiple\"}><img style={{ width: \"100%\" }} src={canvas} />\r\n\r\n                </div>\r\n            })}\r\n\r\n        </div> : null}\r\n        <div className={theme + \"notes-notes-note-title\"} onClick={() => {\r\n            setState(state => ({ ...state, editingNote: { ...a, set: true } }))\r\n        }}>\r\n            {a.title}\r\n        </div>\r\n        <div className={theme + \"notes-notes-note-description\"} onClick={() => {\r\n            setState(state => ({ ...state, editingNote: { ...a, set: true } }))\r\n        }}>\r\n            {a.description.length > 3000 ? a.description.slice(0, 2998) + \"...\" : a.description}\r\n        </div>\r\n        {a.labels.length > 0 ? <div className={theme + \"notes-header-labels\"} style={{marginBottom:\"2rem\"}}>{a.labels.map(label => {\r\n            return <div className={theme + \"notes-header-labels-label\"}><p className={theme + \"notes-header-labels-label-text\"}>{label}</p>\r\n                <DeleteIcon onClick={() => {\r\n\r\n                    setState(state => ({\r\n                        ...state,\r\n                        notes: state.notes.map(note => {\r\n                            if (note.id !== a.id) {\r\n                                return note;\r\n                            }\r\n                            else {\r\n                                return {\r\n                                    ...note, labels: a.labels.filter(l => {\r\n                                        if (l !== label) {\r\n                                            return l\r\n                                        }\r\n                                    })\r\n                                }\r\n                            }\r\n                        })\r\n                    }))\r\n                }} className={theme + \"notes-header-labels-icon\"} />\r\n            </div>\r\n        })} </div> : <br />}\r\n        <div className={theme + \"notes-header-options\"} style={{ opacity: state.currentHover !== a.id ? 0 : 1, transition: \"0.35s all\", marginTop: \"-1.7rem\", marginBottom: \"-1rem\" }}>\r\n            <div className={theme + \"notes-header-options-option-left\"}>\r\n\r\n                <ColorLensOutlinedIcon className={theme + \"notes-icon \" + theme + \"notes-color-icon\"} />\r\n                <input type=\"file\" id={\"image-uploader-\" + a.id} accept=\"image/*\" onChange={(e) => {\r\n                    const fileReader = new FileReader();\r\n                    try {\r\n                        fileReader.readAsDataURL(e.target.files[0]);\r\n                        fileReader.onload = () => {\r\n\r\n                            setState(state => ({\r\n                                ...state, notes: state.notes.map(note => {\r\n                                    console.log(note);\r\n                                    console.log(a);\r\n                                    if (note.id !== a.id) {\r\n\r\n                                        return note;\r\n\r\n                                    }\r\n                                    else {\r\n                                        console.log(\"match: \" + note.title + \" \" + a.title);\r\n                                        return { ...note, images: [...note.images, fileReader.result] };\r\n                                    }\r\n                                })\r\n                            }))\r\n                        }\r\n                    } catch (err) {\r\n                        console.log(err.message);\r\n                    }\r\n\r\n                    console.log(e.target.files)\r\n                }} hidden={true} />\r\n                <label for={\"image-uploader-\" + a.id}><ImageIcon className={theme + \"notes-icon\"} /></label>\r\n\r\n                <div className={theme + \"notes-color-palette\"}>\r\n                    {colors.map(c => {\r\n                        return (\r\n\r\n                            <span className={theme + \"notes-color-palette-each\"} onClick={() => {\r\n                                setState(state => ({\r\n                                    ...state, notes: state.notes.map(note => {\r\n                                        if (note.id !== a.id) {\r\n                                            return note\r\n                                        }\r\n                                        else {\r\n                                            return ({ ...note, color: c })\r\n                                        }\r\n                                    })\r\n                                }))\r\n                            }}>\r\n                                <span className={theme + \"notes-color-palette-each-main \" + theme + \"notes-color-palette-each-\" + c} >\r\n                                    &nbsp;\r\n                    </span>\r\n                                <p className={theme + \"notes-color-palette-each-toolkit\"}> {c}</p>\r\n                            </span>\r\n                        )\r\n                    })}\r\n                </div>\r\n\r\n\r\n                {a.archived ? <ArchiveIcon\r\n                    onClick={() => {\r\n                        setState(state => ({\r\n                            ...state, notes: state.notes.map(note => {\r\n                                if (note.id !== a.id) {\r\n                                    return note\r\n                                }\r\n                                else {\r\n                                    return ({ ...note, archived: false });\r\n                                }\r\n                            })\r\n                        }))\r\n\r\n                    }} className={theme + \"notes-icon\"}\r\n                /> : <ArchiveOutlinedIcon onClick={() => {\r\n                    setState(state => ({\r\n                        ...state, notes: state.notes.map(note => {\r\n                            if (note.id !== a.id) {\r\n                                return note\r\n                            }\r\n                            else {\r\n                                return ({ ...note, archived: true });\r\n                            }\r\n                        })\r\n                    }))\r\n                }} className={theme + \"notes-icon\"} />}\r\n                <div style={{ display: \"inline\" }} >\r\n                    <MoreVertOutlinedIcon className={theme + \"notes-icon\"} onClick={() => {\r\n                        if (state.showNoteDetails === a.id) {\r\n                            setState(state => ({ ...state, showNoteDetails: null, addingNoteLabel: false, addingNoteDrawing: false, labelNoteSearchText: \"\" }));\r\n                        }\r\n                        else {\r\n                            setState(state => ({ ...state, showNoteDetails: a.id }));\r\n                        }\r\n\r\n                    }} />\r\n                    {state.showNoteDetails === a.id ? <div style={{ position: \"absolute\", bottom: \"0\", right: \"5rem\", zIndex: \"100\" }}>\r\n\r\n                        <div className={theme + \"notes-details\"}>\r\n                            {state.addingNoteLabel === a.id ?\r\n                                <div>\r\n                                    <h1 className={theme + \"notes-details-label-header\"} >  Label Note</h1>\r\n                                    <div key=\"a\" style={{ position: \"relative\", padding: \"1rem\" }}>\r\n                                        <input className={theme + \"notes-details-label-input\"} onChange={(e) => setState(state => ({ ...state, labelNoteSearchText: e.target.value }))} placeholder=\"Enter label name\" />\r\n                                        <SearchIcon className={theme + \"notes-details-label-input-icon\"} />\r\n                                    </div>\r\n                                    <div key=\"b\" className={theme + \"notes-details-label-labels\"}>\r\n                                        {state.availableLabels.map(label => {\r\n                                            console.log(label)\r\n                                            return <div className={theme + \"notes-details-label-labels-label\"}> <input checked={a.labels.includes(label)} onChange={(e) => {\r\n                                                if (a.labels.includes(label)) {\r\n                                                    setState(state => ({\r\n                                                        ...state, notes: state.notes.map(note => {\r\n                                                            if (note.id !== a.id) {\r\n                                                                return note;\r\n                                                            }\r\n                                                            else {\r\n                                                                let labels = note.labels.filter(l => {\r\n                                                                    if (l !== label) {\r\n                                                                        return l;\r\n                                                                    }\r\n                                                                });\r\n                                                                return { ...note, labels };\r\n                                                            }\r\n                                                        })\r\n                                                    }));\r\n                                                }\r\n                                                else {\r\n\r\n\r\n                                                    setState(state => ({\r\n                                                        ...state, notes: state.notes.map(note => {\r\n                                                            if (note.id !== a.id) {\r\n                                                                return note;\r\n                                                            }\r\n                                                            else {\r\n                                                                return { ...note, labels: [...note.labels, label] };\r\n                                                            }\r\n                                                        })\r\n                                                    }));\r\n                                                }\r\n                                            }} className={theme + \"notes-details-label-labels-label-check\"} id={\"label-\" + label} type=\"checkbox\" /><label htmlFor={\"label-\" + label} className={theme + \"notes-details-label-labels-label-font\"}  >{label.length < 10 ? label : label.slice(0, 7) + \"...\"}</label> </div>\r\n                                        })}\r\n                                    </div>\r\n                                    {state.labelNoteSearchText.length > 0 && !state.availableLabels.includes(state.labelNoteSearchText) ? <div className={theme + \"notes-details-label-create\"}>\r\n                                        <AddIcon className={theme + \"notes-details-label-create-icon\"} />\r\n                                        <p className={theme + \"notes-details-label-create-text\"} onClick={() => {\r\n                                            setState(state => ({ ...state, availableLabels: [...state.availableLabels, state.labelNoteSearchText] }))\r\n                                        }}>Create \"{state.labelNoteSearchText.length < 10 ? state.labelNoteSearchText : state.labelNoteSearchText.slice(0, 7) + \"...\"}\"</p>\r\n                                    </div> : null}\r\n                                </div>\r\n                                :\r\n\r\n                                <div>\r\n                                    <div className={theme + \"notes-details-list\"}>\r\n                                        <div onClick={() => {\r\n\r\n                                            if (state.addingNoteLabel === a.id) {\r\n                                                setState(state => ({ ...state, addingNoteLabel: false }))\r\n                                            }\r\n                                            else setState(state => ({ ...state, addingNoteLabel: a.id }))\r\n                                        }} className={theme + \"notes-details-list-item\"}>\r\n                                            Change Labels\r\n                                     </div>\r\n                                        <div onClick={() => { setState(state => ({ ...state, addingLabel: false, addingNoteDrawing: a.id, addingDrawing: true })) }} className={theme + \"notes-details-list-item\"}>\r\n                                            Add Drawing\r\n                                    </div>\r\n                                        <div onClick={() => {\r\n                                            setState(state => ({\r\n                                                ...state, notes: state.notes.filter(n => {\r\n                                                    if (n.id !== a.id) {\r\n                                                        return n;\r\n                                                    }\r\n                                                })\r\n                                            }))\r\n                                        }} className={theme + \"notes-details-list-item\"}>\r\n                                            Delete Note\r\n                                    </div>\r\n                                        <div onClick={() => {\r\n                                            const newId = uuid();\r\n                                            console.log(a.id + \" \" + newId);\r\n                                            const newNote = { ...a, id: newId };\r\n                                            console.log(newNote);\r\n                                            setState(state => ({\r\n                                                ...state, notes: [...state.notes, newNote]\r\n                                            }))\r\n                                        }} className={theme + \"notes-details-list-item\"}>\r\n                                            Copy Note\r\n                                    </div>\r\n\r\n\r\n                                    </div>\r\n                                </div>}\r\n                        </div>\r\n                    </div>\r\n                        : null\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nexport default Component;","import React from 'react';\r\nimport ImageIcon from '@material-ui/icons/ImageOutlined';\r\nimport { useDetectClickOutside } from 'react-detect-click-outside';\r\nimport CheckBoxOutlinedIcon from '@material-ui/icons/CheckBoxOutlined';\r\nimport BrushOutlinedIcon from '@material-ui/icons/BrushOutlined';\r\nimport ColorLensOutlinedIcon from '@material-ui/icons/ColorLensOutlined';\r\nimport { v4 as uuid } from 'uuid';\r\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\r\nimport BookmarkIcon from '@material-ui/icons/Bookmark';\r\n\r\n\r\n\r\nimport ArchiveOutlinedIcon from '@material-ui/icons/ArchiveOutlined';\r\nimport ArchiveIcon from '@material-ui/icons/Archive';\r\n\r\n\r\nimport MoreVertOutlinedIcon from '@material-ui/icons/MoreVertOutlined';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport UndoIcon from '@material-ui/icons/Undo';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport RedoIcon from '@material-ui/icons/Redo';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AddAlertIcon from '@material-ui/icons/AddAlert';\r\nimport Canvas, { DisabledCanvas } from './canvas';\r\nimport Note from './note';\r\nlet i = 1;\r\n\r\nlet notAllowCollapse = false;\r\n\r\nconst AnotherComponent = (props) => {\r\n    const i = props.themeNumber;\r\n    let theme = i === 0 ? \"light-\" : \"dark-\";\r\n    const state = props.state;\r\n    const setState = props.setState;\r\n    localStorage.setItem(\"state\", JSON.stringify(state));\r\n    // console.log(state);\r\n    return (\r\n        <div className={theme + \"notes-details\"}>\r\n            {state.addingLabel ?\r\n                <div >\r\n                    <h1 className={theme + \"notes-details-label-header\"} >  Label Note</h1>\r\n                    <div key=\"a\" style={{ position: \"relative\", padding: \"1rem\" }}>\r\n                        <input className={theme + \"notes-details-label-input\"} onChange={(e) => setState(state => ({ ...state, labelSearchText: e.target.value }))} placeholder=\"Enter label name\" />\r\n                        <SearchIcon className={theme + \"notes-details-label-input-icon\"} />\r\n                    </div>\r\n                    <div key=\"b\" className={theme + \"notes-details-label-labels\"}>\r\n                        {state.availableLabels.map(label => {\r\n                            console.log(label)\r\n                            return <div className={theme + \"notes-details-label-labels-label\"}> <input checked={state.new.labels.includes(label)} onChange={(e) => {\r\n                                if (state.new.labels.includes(label)) {\r\n                                    const pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                    setState(state => ({ ...state, new: { ...state.new, labels: state.new.labels.filter(l => { if (l !== label) { return l } }), pastStates: [...pastStates, { ...state.new, labels: state.new.labels.filter(l => { if (l !== label) { return l } }) }] } }));\r\n                                }\r\n                                else {\r\n                                    const pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                    setState(state => ({ ...state, new: { ...state.new, labels: [...state.new.labels, label], pastStates: [...pastStates, { ...state.new, labels: [...state.new.labels, label] }] } }));\r\n                                }\r\n                            }} className={theme + \"notes-details-label-labels-label-check\"} id={\"label-\" + label} type=\"checkbox\" /><label htmlFor={\"label-\" + label} className={theme + \"notes-details-label-labels-label-font\"}  >{label.length < 10 ? label : label.slice(0, 7) + \"...\"}</label> </div>\r\n                        })}\r\n                    </div>\r\n                    {state.labelSearchText.length > 0 && !state.availableLabels.includes(state.labelSearchText) ? <div className={theme + \"notes-details-label-create\"}>\r\n                        <AddIcon className={theme + \"notes-details-label-create-icon\"} />\r\n                        <p className={theme + \"notes-details-label-create-text\"} onClick={() => {\r\n                            notAllowCollapse = true;\r\n                            setState(state => ({ ...state, availableLabels: [...state.availableLabels, state.labelSearchText] }))\r\n                        }}>Create \"{state.labelSearchText.length < 10 ? state.labelSearchText : state.labelSearchText.slice(0, 7) + \"...\"}\"</p>\r\n                    </div> : null}\r\n\r\n                </div>\r\n                :\r\n\r\n                <div>\r\n                    <div className={theme + \"notes-details-list\"}>\r\n                        <div onClick={() => { notAllowCollapse = true; setState(state => ({ ...state, addingLabel: true, showRest: true, addingDrawing: false })) }} className={theme + \"notes-details-list-item\"}>\r\n                            Add Label\r\n                                                </div>\r\n                        <div onClick={() => { setState(state => ({ ...state, addingLabel: false, addingDrawing: true })) }} className={theme + \"notes-details-list-item\"}>\r\n                            Add Drawing\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>}\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\nconst Notes = (props) => {\r\n    const i = props.themeNumber;\r\n    let theme = i === 1 ? \"dark-\" : \"light-\";\r\n    const colors = [\"default\", \"red\", \"orange\", \"yellow\", \"green\", \"teal\", \"blue\", \"darkBlue\", \"purple\", \"pink\", \"brown\", \"gray\"]\r\n    let state = props.state;\r\n    let setState = props.setState;\r\n    const ref = useDetectClickOutside({ onTriggered: () => { notAllowCollapse ? notAllowCollapse = false : setState(state => ({ ...state, showRest: false, showDetails: false })) } });\r\n    console.log(state);\r\n    return (\r\n        <div className={theme + \"notes\"}>\r\n\r\n            <Modal key={1} open={state.addingDrawing}>\r\n                <Canvas className={theme + \"notes-edit-canvas\"} setState={setState} state={state} />\r\n            </Modal>\r\n\r\n            <Modal key={2} open={state.editingNote.set} onClose={() => {\r\n\r\n                setState(state => ({\r\n                    ...state, notes: state.notes.map(note => {\r\n                        if (note.id !== state.editingNote.id) {\r\n                            return note;\r\n                        }\r\n                        else {\r\n                            return state.editingNote\r\n                        }\r\n                    }), editingNote: {\r\n                        title: \"\", canvas: [], images: [], set: false, description: \"\", color: \"default\", labels: [], pinned: false, archived: false\r\n                    }\r\n                }));\r\n            }} style={{ overflowY: \"scroll\" }} >\r\n                <div style={{ marginTop: \"10rem\" }} className={theme + \"notes-header \" + theme + \"notes-color-note-\" + state.editingNote.color} >\r\n\r\n                    <div className={theme + \"notes-header-div\"}>\r\n                        <div className={theme + \"notes-header-div-pin\"}>\r\n\r\n                            {state.editingNote.pinned ? <BookmarkIcon\r\n                                onClick={() => {\r\n                                    let pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                    notAllowCollapse = true;\r\n                                    setState(state => ({ ...state, editingNote: { ...state.editingNote, pinned: false }, pastStates: [...pastStates, { ...state.editingNote, pinned: false }] }))\r\n                                }}\r\n                                className={theme + \"notes-header-div-pin-icon\"} /> : <BookmarkBorderIcon\r\n                                onClick={() => {\r\n                                    let pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                    notAllowCollapse = true;\r\n                                    setState(state => ({ ...state, editingNote: { ...state.editingNote, pinned: true }, pastStates: [...pastStates, { ...state.editingNote, pinned: true }] }))\r\n                                }} className={theme + \"notes-header-div-pin-icon\"} />}\r\n                        </div>\r\n                        {state.editingNote.canvas.length > 0 ? <div className={theme + \"notes-header-div-canvas\"}>\r\n                            {state.editingNote.canvas.map(canvas => {\r\n                                return <div className={state.editingNote.canvas.length === 1 ? theme + \"notes-header-div-canvas-single\" : theme + \"notes-header-div-canvas-multiple\"}>< DisabledCanvas length={state.new.canvas.length} data={canvas} />\r\n                                    <div onClick={() => {\r\n                                        const pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                        setState(state => ({\r\n                                            ...state, editingNote: {\r\n                                                ...state.editingNote, canvas: state.editingNote.canvas.filter(c => {\r\n                                                    console.log(\"working\")\r\n                                                    if (c !== canvas) {\r\n                                                        return c;\r\n                                                    }\r\n\r\n                                                })\r\n                                            }, pastStates: [...pastStates, {\r\n                                                ...state.editingNote, canvas: state.editingNote.canvas.filter(c => {\r\n\r\n                                                    if (c !== canvas) {\r\n                                                        return c;\r\n                                                    }\r\n\r\n                                                })\r\n                                            }]\r\n                                        }))\r\n                                    }} className={state.editingNote.canvas.length === 1 ? theme + \"notes-header-div-canvas-delete\" : theme + \"notes-header-div-canvas-delete\"}>\r\n\r\n                                        <DeleteIcon className={theme + \"notes-header-div-canvas-delete-icon\"} /></div>\r\n                                </div>\r\n                            })}\r\n\r\n                        </div> : null}\r\n                        {state.editingNote.images.length > 0 ? <div className={theme + \"notes-header-div-canvas\"}>\r\n                            {state.editingNote.images.map(canvas => {\r\n                                return <div className={state.editingNote.images.length === 1 ? theme + \"notes-header-div-canvas-single\" : theme + \"notes-header-div-canvas-multiple\"}><img style={{ width: \"100%\" }} src={canvas} />\r\n                                    <div onClick={() => {\r\n                                        const pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                        setState(state => ({\r\n                                            ...state, editingNote: {\r\n                                                ...state.editingNote, images: state.editingNote.images.filter(c => {\r\n\r\n                                                    if (c !== canvas) {\r\n                                                        return c;\r\n                                                    }\r\n\r\n                                                })\r\n                                            },\r\n                                            pastStates: [...pastStates, {\r\n                                                ...state.editingNote, images: state.editingNote.images.filter(c => {\r\n\r\n                                                    if (c !== canvas) {\r\n                                                        return c;\r\n                                                    }\r\n                                                })\r\n                                            }]\r\n                                        }))\r\n                                    }} className={state.editingNote.canvas.length === 1 ? theme + \"notes-header-div-canvas-delete\" : theme + \"notes-header-div-canvas-delete\"}>\r\n                                        <DeleteIcon className={theme + \"notes-header-div-canvas-delete-icon\"} /></div>\r\n                                </div>\r\n                            })}\r\n\r\n                        </div> : null}\r\n\r\n\r\n                        <input value={state.editingNote.title} placeholder={\"Edit Note\"} onClick={() => setState(state => ({ ...state, showRest: true }))} className={theme + \"notes-header-input\"} onChange={(e) => {\r\n                            if (state.current < state.pastStates.length - 1) {\r\n                                let pastStates = state.pastStates.slice(0, state.current);\r\n                                setState(state => ({ ...state, editingNote: { ...state.editingNote, title: e.target.value }, pastStates: [...pastStates, { ...state.editingNote, title: e.target.value }], current: pastStates.length + 1 }));\r\n                            }\r\n                            else {\r\n                                setState(state => ({ ...state, editingNote: { ...state.editingNote, title: e.target.value }, pastStates: [...state.pastStates, { ...state.editingNote, title: e.target.value }], current: state.pastStates.length + 1 }));\r\n                            }\r\n\r\n                        }} />\r\n                        <div><textarea value={state.editingNote.description} placeholder=\"Take a note...\" onInput={(e) => {\r\n                            e.target.style.height = \"\";\r\n                            e.target.style.height = e.target.scrollHeight + \"px\";\r\n\r\n                        }} onChange={(e) => {\r\n                            if (state.current < state.pastStates.length - 1) {\r\n                                let pastStates = state.pastStates.slice(0, state.current);\r\n                                setState(state => ({ ...state, editingNote: { ...state.editingNote, description: e.target.value }, pastStates: [...pastStates, { ...state.editingNote, description: e.target.value }], current: pastStates.length + 1 }));\r\n                            }\r\n                            else {\r\n                                setState(state => ({ ...state, editingNote: { ...state.editingNote, description: e.target.value }, pastStates: [...state.pastStates, { ...state.editingNote, description: e.target.value }], current: state.pastStates.length + 1 }));\r\n                            }\r\n                        }\r\n                        } className={theme + \"notes-header-input\"} />\r\n\r\n                            <div className={theme + \"notes-header-labels\"}>{state.editingNote.labels.map(label => {\r\n                                return <div className={theme + \"notes-header-labels-label\"}><p className={theme + \"notes-header-labels-label-text\"}>{label}</p>\r\n                                    <DeleteIcon onClick={() => {\r\n                                        let pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                        notAllowCollapse = true;\r\n                                        setState(state => ({\r\n                                            ...state, editingNote: {\r\n                                                ...state.editingNote, labels: state.editingNote.labels.filter(l => {\r\n                                                    if (l !== label) {\r\n                                                        return l;\r\n                                                    }\r\n                                                })\r\n                                            }, pastStates: [...pastStates, {\r\n                                                ...state.editingNote, labels: state.editingNote.labels.filter(l => {\r\n                                                    if (l !== label) {\r\n                                                        return l;\r\n                                                    }\r\n                                                })\r\n                                            }]\r\n                                        }))\r\n                                    }} className={theme + \"notes-header-labels-icon\"} />\r\n                                </div>\r\n                            })} </div>\r\n\r\n                            <div className={theme + \"notes-header-options\"}>\r\n                                <div className={theme + \"notes-header-options-option-left\"}>\r\n\r\n                                    <ColorLensOutlinedIcon className={theme + \"notes-icon \" + theme + \"notes-color-icon\"} />\r\n                                    <input type=\"file\" id=\"image-uploader\" accept=\"image/*\" onChange={(e) => {\r\n                                        const fileReader = new FileReader();\r\n                                        fileReader.readAsDataURL(e.target.files[0]);\r\n                                        fileReader.onload = () => {\r\n\r\n                                            if (state.current < state.pastStates.length - 1) {\r\n                                                let pastStates = state.pastStates.slice(0, state.current);\r\n                                                setState(state => ({ ...state, editingNote: { ...state.editingNote, images: [...state.editingNote.images, fileReader.result] }, pastStates: [...pastStates, { ...state.editingNote, images: [...state.editingNote.images, fileReader.result] }], current: pastStates.length + 1 }));\r\n                                            }\r\n                                            else {\r\n                                                setState(state => ({ ...state, editingNote: { ...state.editingNote, images: [...state.editingNote.images, fileReader.result] }, pastStates: [...state.pastStates, { ...state.editingNote, images: [...state.editingNote.images, fileReader.result] }], current: state.pastStates.length + 1 }));\r\n                                            }\r\n                                        }\r\n                                        console.log(e.target.files)\r\n                                    }} hidden={true} />\r\n                                    <label for=\"image-uploader\"><ImageIcon className={theme + \"notes-icon\"} /></label>\r\n\r\n                                    <div className={theme + \"notes-color-palette\"}>\r\n                                        {colors.map(c => {\r\n                                            return (\r\n\r\n                                                <span className={theme + \"notes-color-palette-each\"} onClick={() => {\r\n                                                    if (state.current < state.pastStates.length - 1) {\r\n                                                        let pastStates = state.pastStates.slice(0, state.current);\r\n                                                        setState(state => ({ ...state, editingNote: { ...state.editingNote, color: c }, pastStates: [...pastStates, { ...state.editingNote, color: c }], current: state.pastStates.length + 1 }));\r\n                                                    }\r\n                                                    else {\r\n                                                        setState(state => ({ ...state, editingNote: { ...state.editingNote, color: c }, pastStates: [...state.pastStates, { ...state.editingNote, color: c }], current: state.pastStates.length + 1 }));\r\n                                                    }\r\n                                                }}>\r\n                                                    <span className={theme + \"notes-color-palette-each-main \" + theme + \"notes-color-palette-each-\" + c} >\r\n                                                        &nbsp;\r\n                                </span>\r\n                                                    <p className={theme + \"notes-color-palette-each-toolkit\"}> {c}</p>\r\n                                                </span>\r\n                                            )\r\n                                        })}\r\n                                    </div>\r\n\r\n\r\n                                    {state.editingNote.archived ? <ArchiveIcon\r\n                                        onClick={() => {\r\n                                            let pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                            notAllowCollapse = true;\r\n                                            setState(state => ({ ...state, editingNote: { ...state.editingNote, archived: false }, pastStates: [...pastStates, { ...state.editingNote, archived: false }] }))\r\n                                        }} className={theme + \"notes-icon\"}\r\n                                    /> : <ArchiveOutlinedIcon onClick={() => {\r\n                                        let pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                        notAllowCollapse = true;\r\n                                        setState(state => ({ ...state, editingNote: { ...state.editingNote, archived: true }, pastStates: [...pastStates, { ...state.editingNote, archived: true }] }))\r\n                                    }} className={theme + \"notes-icon\"} />}\r\n                                    <div style={{ display: \"inline\" }} >\r\n                                        <MoreVertOutlinedIcon className={theme + \"notes-icon\"} onClick={() => {\r\n                                            if (state.showNoteDetails === state.editingNote.id) {\r\n                                                setState(state => ({ ...state, showNoteDetails: null, addingNoteLabel: false, addingNoteDrawing: false, labelNoteSearchText: \"\" }));\r\n                                            }\r\n                                            else {\r\n                                                setState(state => ({ ...state, showNoteDetails: state.editingNote.id }));\r\n                                            }\r\n\r\n                                        }} />\r\n                                        {state.showNoteDetails === state.editingNote.id ? <div style={{ position: \"absolute\", bottom: \"0\", left: \"15rem\", zIndex: \"100\" }}>\r\n\r\n                                            <div className={theme + \"notes-details\"}>\r\n                                                {state.addingNoteLabel === state.editingNote.id ?\r\n                                                    <div>\r\n                                                        <h1 className={theme + \"notes-details-label-header\"} >  Label Note</h1>\r\n                                                        <div key=\"a\" style={{ position: \"relative\", padding: \"1rem\" }}>\r\n                                                            <input className={theme + \"notes-details-label-input\"} onChange={(e) => setState(state => ({ ...state, labelNoteSearchText: e.target.value }))} placeholder=\"Enter label name\" />\r\n                                                            <SearchIcon className={theme + \"notes-details-label-input-icon\"} />\r\n                                                        </div>\r\n                                                        <div key=\"b\" className={theme + \"notes-details-label-labels\"}>\r\n                                                            {state.availableLabels.map(label => {\r\n                                                                console.log(label)\r\n                                                                return <div className={theme + \"notes-details-label-labels-label\"}> <input checked={state.editingNote.labels.includes(label)} onChange={(e) => {\r\n                                                                    if (state.editingNote.labels.includes(label)) {\r\n                                                                        setState(state => ({\r\n                                                                            ...state, editingNote: {\r\n                                                                                ...state.editingNote, labels: [...state.editingNote.labels.filter(l => {\r\n                                                                                    if (l !== label) {\r\n                                                                                        return l;\r\n                                                                                    }\r\n                                                                                })]\r\n                                                                            }\r\n                                                                        }));\r\n\r\n                                                                    }\r\n                                                                    else {\r\n\r\n\r\n                                                                        setState(state => ({\r\n                                                                            ...state, editingNote: { ...state.editingNote, labels: [...state.editingNote.labels, label] }\r\n                                                                        }));\r\n                                                                    }\r\n                                                                }} className={theme + \"notes-details-label-labels-label-check\"} id={\"label-\" + label} type=\"checkbox\" /><label htmlFor={\"label-\" + label} className={theme + \"notes-details-label-labels-label-font\"}  >{label.length < 10 ? label : label.slice(0, 7) + \"...\"}</label> </div>\r\n                                                            })}\r\n                                                        </div>\r\n                                                        {state.labelNoteSearchText.length > 0 && !state.availableLabels.includes(state.labelNoteSearchText) ? <div className={theme + \"notes-details-label-create\"}>\r\n                                                            <AddIcon className={theme + \"notes-details-label-create-icon\"} />\r\n                                                            <p className={theme + \"notes-details-label-create-text\"} onClick={() => {\r\n                                                                notAllowCollapse = true;\r\n                                                                setState(state => ({ ...state, availableLabels: [...state.availableLabels, state.labelNoteSearchText] }))\r\n                                                            }}>Create \"{state.labelNoteSearchText.length < 10 ? state.labelNoteSearchText : state.labelNoteSearchText.slice(0, 7) + \"...\"}\"</p>\r\n                                                        </div> : null}\r\n                                                    </div>\r\n                                                    :\r\n\r\n                                                    <div>\r\n                                                        <div className={theme + \"notes-details-list\"}>\r\n                                                            <div onClick={() => {\r\n\r\n                                                                if (state.addingNoteLabel === state.editingNote.id) {\r\n                                                                    setState(state => ({ ...state, addingNoteLabel: false }))\r\n                                                                }\r\n                                                                else setState(state => ({ ...state, addingNoteLabel: state.editingNote.id }))\r\n                                                            }} className={theme + \"notes-details-list-item\"}>\r\n                                                                Change Labels\r\n                                                             </div>\r\n                                                            <div onClick={() => { setState(state => ({ ...state, addingLabel: false, addingNoteDrawing: state.editingNote.id, addingDrawing: true })) }} className={theme + \"notes-details-list-item\"}>\r\n                                                                Add Drawing\r\n                                                            </div>\r\n                                                            <div onClick={() => {\r\n                                                                setState(state => ({\r\n                                                                    ...state, notes: state.notes.filter(n => {\r\n                                                                        if (n.id !== state.editingNote.id) {\r\n                                                                            return n;\r\n                                                                        }\r\n                                                                    }), editingNote: {\r\n                                                                        title: \"\", canvas: [], images: [], set: false, description: \"\", color: \"default\", labels: [], pinned: false, archived: false\r\n                                                                    }\r\n                                                                }))\r\n                                                            }} className={theme + \"notes-details-list-item\"}>\r\n                                                                Delete Note\r\n                                                            </div>\r\n                                                            <div onClick={() => {\r\n\r\n                                                                const newNote = { ...state.editingNote, id: uuid() };\r\n                                                                console.log(newNote);\r\n                                                                setState(state => ({\r\n                                                                    ...state, notes: [...state.notes, newNote]\r\n                                                                }))\r\n                                                            }} className={theme + \"notes-details-list-item\"}>\r\n                                                                Copy Note\r\n                                                            </div>\r\n\r\n\r\n                                                        </div>\r\n                                                    </div>}\r\n                                            </div>\r\n                                        </div>\r\n                                            : null\r\n                                        }\r\n                                    </div>\r\n                                    <UndoIcon className={theme + \"notes-icon\"} onClick={() => {\r\n                                        if (state.current > 0) {\r\n                                            if (state.current > 3) {\r\n                                                setState(state => ({ ...state, editingNote: state.pastStates[state.current - 3], current: state.current - 3 }));\r\n                                            }\r\n                                            else {\r\n                                                setState(state => ({ ...state, editingNote: state.pastStates[state.current - 1], current: state.current - 1 }));\r\n                                            }\r\n                                        }\r\n                                    }} />\r\n                                    <RedoIcon className={theme + \"notes-icon\"}\r\n                                        onClick={() => {\r\n                                            if (state.current < state.pastStates.length - 1) {\r\n                                                if (state.current < state.pastStates.length - 5) {\r\n                                                    console.log(state.current + 3);\r\n                                                    console.log(state.pastStates.length);\r\n                                                    setState(state => ({ ...state, editingNote: state.pastStates[state.current + 3], current: state.current + 3 }));\r\n                                                }\r\n                                                else {\r\n                                                    console.log(state.current + 1);\r\n                                                    console.log(state.pastStates.length);\r\n                                                    setState(state => ({ ...state, editingNote: state.pastStates[state.current + 1], current: state.current + 1 }));\r\n                                                }\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className={theme + \"notes-header-options-right\"}>\r\n                                    {state.editingNote.title.length > 0 || state.editingNote.description.length > 0 || state.editingNote.images.length > 0 || state.editingNote.canvas.length > 0 ?\r\n                                        <button className={theme + \"notes-header-options-right-close\"} onClick={() => {\r\n                                            setState(state => ({\r\n                                                ...state, notes: state.notes.map(note => {\r\n                                                    if (note.id !== state.editingNote.id) {\r\n                                                        return note;\r\n                                                    }\r\n                                                    else {\r\n                                                        return state.editingNote\r\n                                                    }\r\n                                                }), editingNote: {\r\n                                                    title: \"\", canvas: [], images: [], set: false, description: \"\", color: \"default\", labels: [], pinned: false, archived: false\r\n                                                }\r\n                                            }));\r\n                                        }}> Save </button> : <button className={theme + \"notes-header-options-right-close\"} onClick={() => {\r\n                                            setState(state => ({ ...state, showRest: false }));\r\n                                        }}> Close</button>}\r\n                                </div>\r\n                            </div></div>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n\r\n            <div ref={ref} className={theme + \"notes-header \" + theme + \"notes-color-note-\" + state.new.color} >\r\n\r\n                <div className={theme + \"notes-header-div\"} style={{ transition: \"all 0.2s\" }}>\r\n                    <div className={theme + \"notes-header-div-pin\"} style={{ transition: \"all 0.2s\" }}>\r\n\r\n                        {state.showRest ? state.new.pinned ? <BookmarkIcon\r\n                            onClick={() => {\r\n                                let pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                notAllowCollapse = true;\r\n                                setState(state => ({ ...state, new: { ...state.new, pinned: false }, pastStates: [...pastStates, { ...state.new, pinned: false }] }))\r\n                            }}\r\n                            className={theme + \"notes-header-div-pin-icon\"} /> : <BookmarkBorderIcon\r\n                            onClick={() => {\r\n                                let pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                notAllowCollapse = true;\r\n                                setState(state => ({ ...state, new: { ...state.new, pinned: true }, pastStates: [...pastStates, { ...state.new, pinned: true }] }))\r\n                            }} className={theme + \"notes-header-div-pin-icon\"} /> : null}\r\n                    </div>\r\n                    {state.new.canvas.length > 0 ? <div className={theme + \"notes-header-div-canvas\"} style={{ transition: \"all 0.2s\" }}>\r\n                        {state.new.canvas.map(canvas => {\r\n                            return <div className={state.new.canvas.length === 1 ? theme + \"notes-header-div-canvas-single\" : theme + \"notes-header-div-canvas-multiple\"}>< DisabledCanvas length={state.new.canvas.length} data={canvas} />\r\n                                <div style={{ transition: \"all 0.2s\" }} onClick={() => {\r\n                                    const pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                    setState(state => ({\r\n                                        ...state, new: {\r\n                                            ...state.new, canvas: state.new.canvas.filter(c => {\r\n                                                console.log(\"working\")\r\n                                                if (c !== canvas) {\r\n                                                    return c;\r\n                                                }\r\n\r\n                                            })\r\n                                        }, pastStates: [...pastStates, {\r\n                                            ...state.new, canvas: state.new.canvas.filter(c => {\r\n                                                console.log(\"working\")\r\n                                                if (c !== canvas) {\r\n                                                    return c;\r\n                                                }\r\n\r\n                                            })\r\n                                        }]\r\n                                    }))\r\n                                }} className={state.new.canvas.length === 1 ? theme + \"notes-header-div-canvas-delete\" : theme + \"notes-header-div-canvas-delete\"}>\r\n\r\n                                    <DeleteIcon className={theme + \"notes-header-div-canvas-delete-icon\"} /></div>\r\n                            </div>\r\n                        })}\r\n\r\n                    </div> : null}\r\n\r\n\r\n                    {state.new.images.length > 0 ? <div className={theme + \"notes-header-div-canvas\"}>\r\n                        {state.new.images.map(canvas => {\r\n                            return <div className={state.new.images.length === 1 ? theme + \"notes-header-div-canvas-single\" : theme + \"notes-header-div-canvas-multiple\"}><img style={{ width: \"100%\" }} src={canvas} />\r\n                                <div onClick={() => {\r\n                                    const pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                    setState(state => ({\r\n                                        ...state, new: {\r\n                                            ...state.new, images: state.new.images.filter(c => {\r\n                                                console.log(\"working\")\r\n                                                if (c !== canvas) {\r\n                                                    return c;\r\n                                                }\r\n\r\n                                            })\r\n                                        },\r\n                                        pastStates: [...pastStates, {\r\n                                            ...state.new, images: state.new.images.filter(c => {\r\n                                                console.log(\"working\")\r\n                                                if (c !== canvas) {\r\n                                                    return c;\r\n                                                }\r\n                                            })\r\n                                        }]\r\n                                    }))\r\n                                }} className={state.new.canvas.length === 1 ? theme + \"notes-header-div-canvas-delete\" : theme + \"notes-header-div-canvas-delete\"}>\r\n                                    <DeleteIcon className={theme + \"notes-header-div-canvas-delete-icon\"} /></div>\r\n                            </div>\r\n                        })}\r\n\r\n                    </div> : null}\r\n\r\n\r\n                    <input value={state.new.title} style={{width:\"75%\", marginRight:\"25%\"}} placeholder={state.showRest ? \"Title\" : \"Take a note...\"} onClick={() => setState(state => ({ ...state, showRest: true }))} className={theme + \"notes-header-input\"} onChange={(e) => {\r\n                        if (state.current < state.pastStates.length - 1) {\r\n                            let pastStates = state.pastStates.slice(0, state.current);\r\n                            setState(state => ({ ...state, new: { ...state.new, title: e.target.value }, pastStates: [...pastStates, { ...state.new, title: e.target.value }], current: pastStates.length + 1 }));\r\n                        }\r\n                        else {\r\n                            setState(state => ({ ...state, new: { ...state.new, title: e.target.value }, pastStates: [...state.pastStates, { ...state.new, title: e.target.value }], current: state.pastStates.length + 1 }));\r\n                        }\r\n\r\n                    }} />\r\n                    {state.showRest ? <div style={{ transition: \"all 0.2s\" }}><textarea value={state.new.description} placeholder=\"Take a note...\" onInput={(e) => {\r\n                        e.target.style.height = \"\";\r\n                        e.target.style.height = e.target.scrollHeight + \"px\";\r\n\r\n                    }} onChange={(e) => {\r\n                        if (state.current < state.pastStates.length - 1) {\r\n                            let pastStates = state.pastStates.slice(0, state.current);\r\n                            setState(state => ({ ...state, new: { ...state.new, description: e.target.value }, pastStates: [...pastStates, { ...state.new, description: e.target.value }], current: pastStates.length + 1 }));\r\n                        }\r\n                        else {\r\n                            setState(state => ({ ...state, new: { ...state.new, description: e.target.value }, pastStates: [...state.pastStates, { ...state.new, description: e.target.value }], current: state.pastStates.length + 1 }));\r\n                        }\r\n                    }\r\n                    } className={theme + \"notes-header-input\"} />\r\n\r\n                        <div className={theme + \"notes-header-labels\"}>{state.new.labels.map(label => {\r\n                            return <div className={theme + \"notes-header-labels-label\"}><p className={theme + \"notes-header-labels-label-text\"}>{label}</p>\r\n                                <DeleteIcon onClick={() => {\r\n                                    let pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                    notAllowCollapse = true;\r\n                                    setState(state => ({\r\n                                        ...state, new: {\r\n                                            ...state.new, labels: state.new.labels.filter(l => {\r\n                                                if (l !== label) {\r\n                                                    return l;\r\n                                                }\r\n                                            })\r\n                                        }, pastStates: [...pastStates, {\r\n                                            ...state.new, labels: state.new.labels.filter(l => {\r\n                                                if (l !== label) {\r\n                                                    return l;\r\n                                                }\r\n                                            })\r\n                                        }]\r\n                                    }))\r\n                                }} className={theme + \"notes-header-labels-icon\"} />\r\n                            </div>\r\n                        })} </div>\r\n\r\n                        <div className={theme + \"notes-header-options\"}>\r\n                            <div className={theme + \"notes-header-options-option-left\"}>\r\n\r\n                                <ColorLensOutlinedIcon className={theme + \"notes-icon \" + theme + \"notes-color-icon\"} />\r\n                                <input type=\"file\" id=\"image-uploader\" accept=\"image/*\" onChange={(e) => {\r\n                                    const fileReader = new FileReader();\r\n                                    fileReader.readAsDataURL(e.target.files[0]);\r\n                                    fileReader.onload = () => {\r\n\r\n                                        if (state.current < state.pastStates.length - 1) {\r\n                                            let pastStates = state.pastStates.slice(0, state.current);\r\n                                            setState(state => ({ ...state, new: { ...state.new, images: [...state.new.images, fileReader.result] }, pastStates: [...pastStates, { ...state.new, images: [...state.new.images, fileReader.result] }], current: pastStates.length + 1 }));\r\n                                        }\r\n                                        else {\r\n                                            setState(state => ({ ...state, new: { ...state.new, images: [...state.new.images, fileReader.result] }, pastStates: [...state.pastStates, { ...state.new, images: [...state.new.images, fileReader.result] }], current: state.pastStates.length + 1 }));\r\n                                        }\r\n\r\n                                    }\r\n                                    console.log(e.target.files)\r\n                                }} hidden={true} />\r\n                                <label for=\"image-uploader\"><ImageIcon className={theme + \"notes-icon\"} /></label>\r\n\r\n                                <div className={theme + \"notes-color-palette\"}>\r\n                                    {colors.map(c => {\r\n                                        return (\r\n\r\n                                            <span className={theme + \"notes-color-palette-each\"} onClick={() => {\r\n                                                if (state.current < state.pastStates.length - 1) {\r\n                                                    let pastStates = state.pastStates.slice(0, state.current);\r\n                                                    setState(state => ({ ...state, new: { ...state.new, color: c }, pastStates: [...pastStates, { ...state.new, color: c }], current: state.pastStates.length + 1 }));\r\n                                                }\r\n                                                else {\r\n                                                    setState(state => ({ ...state, new: { ...state.new, color: c }, pastStates: [...state.pastStates, { ...state.new, color: c }], current: state.pastStates.length + 1 }));\r\n                                                }\r\n                                            }}>\r\n                                                <span className={theme + \"notes-color-palette-each-main \" + theme + \"notes-color-palette-each-\" + c} >\r\n                                                    &nbsp;\r\n                                                </span>\r\n                                                <p className={theme + \"notes-color-palette-each-toolkit\"}> {c}</p>\r\n                                            </span>\r\n                                        )\r\n                                    })}\r\n                                </div>\r\n\r\n\r\n                                {state.new.archived ? <ArchiveIcon\r\n                                    onClick={() => {\r\n                                        let pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                        notAllowCollapse = true;\r\n                                        setState(state => ({ ...state, new: { ...state.new, archived: false }, pastStates: [...pastStates, { ...state.new, archived: false }] }))\r\n                                    }} className={theme + \"notes-icon\"}\r\n                                /> : <ArchiveOutlinedIcon onClick={() => {\r\n                                    let pastStates = state.current < state.pastStates.length - 1 ? state.pastStates.slice(0, state.current) : state.pastStates;\r\n                                    notAllowCollapse = true;\r\n                                    setState(state => ({ ...state, new: { ...state.new, archived: true }, pastStates: [...pastStates, { ...state.new, archived: true }] }))\r\n                                }} className={theme + \"notes-icon\"} />}\r\n                                <div style={{ display: \"inline\" }} >\r\n                                    <MoreVertOutlinedIcon className={theme + \"notes-icon\"} onClick={() => {\r\n                                        setState(state => ({ ...state, showDetails: !state.showDetails, addingLabel: false, addingDrawing: false, addingImage: false }));\r\n                                    }} />\r\n                                    {state.showDetails ? <AnotherComponent themeNumber={i} state={state} setState={setState} />\r\n\r\n\r\n                                        : null\r\n                                    }\r\n\r\n                                </div>\r\n                                <UndoIcon className={theme + \"notes-icon\"} onClick={() => {\r\n                                    if (state.current > 0) {\r\n                                        if (state.current > 3) {\r\n                                            setState(state => ({ ...state, new: state.pastStates[state.current - 3], current: state.current - 3 }));\r\n                                        }\r\n                                        else {\r\n                                            setState(state => ({ ...state, new: state.pastStates[state.current - 1], current: state.current - 1 }));\r\n                                        }\r\n                                    }\r\n                                }} />\r\n                                <RedoIcon className={theme + \"notes-icon\"}\r\n                                    onClick={() => {\r\n                                        if (state.current < state.pastStates.length - 1) {\r\n                                            if (state.current < state.pastStates.length - 5) {\r\n                                                console.log(state.current + 3);\r\n                                                console.log(state.pastStates.length);\r\n                                                setState(state => ({ ...state, new: state.pastStates[state.current + 3], current: state.current + 3 }));\r\n                                            }\r\n                                            else {\r\n                                                console.log(state.current + 1);\r\n                                                console.log(state.pastStates.length);\r\n                                                setState(state => ({ ...state, new: state.pastStates[state.current + 1], current: state.current + 1 }));\r\n                                            }\r\n                                        }\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div className={theme + \"notes-header-options-right\"}>\r\n                                {state.new.title.length > 0 || state.new.description.length > 0 || state.new.images.length > 0 || state.new.canvas.length > 0 ?\r\n                                    <button className={theme + \"notes-header-options-right-close\"} onClick={() => {\r\n                                        setState(state => ({ ...state, new: { title: \"\", canvas: [], images: [], list: false, description: \"\", color: \"default\", labels: [], pinned: false, archived: false }, showRest: false, pastStates: [{ title: \"\", canvas: [], images: [], archived: false, list: false, description: \"\", color: \"default\", labels: [], pinned: false }], notes: [...state.notes, { ...state.new, id: uuid() }], current: 0 }));\r\n                                    }}> Save </button> : <button className={theme + \"notes-header-options-right-close\"} onClick={() => {\r\n                                        setState(state => ({ ...state, showRest: false }));\r\n                                    }}> Close</button>}\r\n                            </div>\r\n                        </div></div> : null}\r\n                </div>\r\n            </div>\r\n            <div className={theme + \"notes-pinned\"}>\r\n                <h1 className={theme + \"notes-pinned-header\"}>\r\n                    PINNED\r\n                </h1>\r\n                <div className={theme + \"notes-notes\"}>\r\n                    {state.notes.map(a => {\r\n                        if (state.filter.search.length > 0 && a.pinned) {\r\n                            if (\r\n\r\n                                (a.title + \" \" + a.description + \" \" + a.labels + \" \" + a.color).toLowerCase().includes(state.filter.search.toLowerCase()) ||\r\n                                (a.title).toLowerCase().includes(state.filter.search.toLowerCase()) ||\r\n                                (a.description).includes(state.filter.search.toLowerCase()) ||\r\n                                (a.labels).includes(state.filter.search.toLowerCase()) ||\r\n                                (a.color).includes(state.filter.search.toLowerCase())\r\n\r\n                            ) {\r\n                                if (state.filter.archived) {\r\n                                    if (a.pinned && a.archived) {\r\n                                        return (<Note a={a} state={state} setState={setState} theme={theme} />)\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (state.L.current !== \"Notes\") {\r\n                                        if (a.labels.includes(state.L.current) && a.pinned) {\r\n                                            return (<Note a={a} state={state} setState={setState} theme={theme} />)\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (a.pinned && !a.archived) {\r\n                                            return (<Note a={a} state={state} setState={setState} theme={theme} />)\r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (state.filter.archived) {\r\n                                if (a.pinned && a.archived) {\r\n                                    return (<Note a={a} state={state} setState={setState} theme={theme} />)\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (state.L.current !== \"Notes\") {\r\n                                    if (a.labels.includes(state.L.current) && a.pinned) {\r\n                                        return (<Note a={a} state={state} setState={setState} theme={theme} />)\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (a.pinned && !a.archived) {\r\n                                        return (<Note a={a} state={state} setState={setState} theme={theme} />)\r\n                                    }\r\n                                }\r\n\r\n                            }\r\n                        }\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            <div className={theme + \"notes-others\"}>\r\n                <h1 className={theme + \"notes-others-header\"}>\r\n                    OTHERS\r\n                </h1>\r\n                <div className={theme + \"notes-notes\"}>\r\n                    {state.notes.map(a => {\r\n\r\n\r\n                        if (state.filter.search.length > 0 && !a.pinned) {\r\n                            if (\r\n                                (a.title + \" \" + a.description + \" \" + a.labels + \" \" + a.color).toLowerCase().includes(state.filter.search.toLowerCase()) ||\r\n                                (a.title).toLowerCase().includes(state.filter.search.toLowerCase()) ||\r\n                                (a.description).includes(state.filter.search.toLowerCase()) ||\r\n                                (a.labels).includes(state.filter.search.toLowerCase()) ||\r\n                                (a.color).includes(state.filter.search.toLowerCase())\r\n                            ) {\r\n                                if (state.filter.archived) {\r\n                                    if (a.pinned && a.archived) {\r\n                                        return (<Note a={a} state={state} setState={setState} theme={theme} />)\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (state.L.current !== \"Notes\") {\r\n                                        if (a.labels.includes(state.L.current && !a.pinned)) {\r\n                                            return (<Note a={a} state={state} setState={setState} theme={theme} />)\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (!a.pinned && !a.archived) {\r\n                                            return (<Note a={a} state={state} setState={setState} theme={theme} />)\r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (state.filter.archived) {\r\n                                if (!a.pinned && a.archived) {\r\n                                    return (<Note a={a} state={state} setState={setState} theme={theme} />)\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (state.L.current !== \"Notes\") {\r\n                                    if (a.labels.includes(state.L.current) && !a.pinned) {\r\n                                        return (<Note a={a} state={state} setState={setState} theme={theme} />)\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (!a.pinned && !a.archived) {\r\n                                        return (<Note a={a} state={state} setState={setState} theme={theme} />)\r\n                                    }\r\n                                }\r\n\r\n                            }\r\n                        }\r\n                    })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\nexport default Notes;","import React from 'react';\r\nimport EmojiObjectsIcon from '@material-ui/icons/EmojiObjectsOutlined';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport ls from 'local-storage'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport ArchiveIcon from '@material-ui/icons/Archive';\r\nimport Labels from \"../sub/labels\";\r\nimport NavBar from \"../sub/navigation\"\r\nimport Notes from \"../sub/notes\"\r\n\r\n\r\n\r\nconst Loaded = () => {\r\n    const [state, setState] = React.useState({\r\n        new: { title: \"\", canvas: [], images: [], list: false, description: \"\", color: \"default\", labels: [], pinned: false, archived: false }, showRest: false, pastStates: [{ title: \"\", set: true, canvas: [], images: [], archived: false, list: false, description: \"\", color: \"default\", labels: [], pinned: false }], availableLabels: [], current: 0, showDetails: false, addingLabel: false, addingImage: false, addingDrawing: false, labelSearchText: \"\", notes: [], showNoteDetails: null, addingNoteLabel: null, addingNoteDrawing: null, labelNoteSearchText: \"\", editingNote: {\r\n            title: \"\", canvas: [], images: [], set: false, description: \"\", color: \"default\", labels: [], pinned: false, archived: false\r\n        }, currentHover: null, L: { current: \"Notes\", new: \"\", forceSituation: false, situation: \"mini-\", showModal: false, modalCurrent: -1, editModal: -1, list: [{ name: \"Notes\", Icon: EmojiObjectsIcon }, { name: \"Archived\", Icon: ArchiveIcon }, { name: \"Edit labels\", Icon: EditOutlinedIcon }], customLabels: [] },\r\n        filter: { search: \"\", archived: false }, loaded: false, themeNumber: 1\r\n    });\r\n    const firstTimeLoad = () => {\r\n        let data = localStorage.getItem('state');\r\n        try {\r\n            if (data) {\r\n                console.log(JSON.parse(data))\r\n                setState(state => ({ ...state, ...JSON.parse(data), loaded: true }));\r\n            }\r\n            else {\r\n                setState((state) => ({ ...state, loaded: true }))\r\n            }\r\n        }\r\n        catch (err) {\r\n            console.log(err.message);\r\n        }\r\n    }\r\n    if (!state.loaded) {\r\n        firstTimeLoad();\r\n    }\r\n    React.useEffect(() => {\r\n        try {\r\n            localStorage.setItem(\"state\", JSON.stringify({ notes: state.notes, availableLabels: state.availableLabels, themeNumber: state.themeNumber }));\r\n        }\r\n        catch {\r\n            let data = localStorage.getItem('state');\r\n            setState(state => ({ ...state, ...JSON.parse(data), loaded: true }));\r\n            toast.error(\"You have reached the maximum amount of storage made possible by your browser's localStorage api. You need to delete some of your notes, to make new ones.\")\r\n        }\r\n    });\r\n\r\n    let theme = state.themeNumber === 1 ? \"dark\" : \"light\";\r\n    try {\r\n        return (<div className={theme + \"-app\"}>\r\n            <ToastContainer />\r\n            <NavBar component themeNumber={state.themeNumber} state={state} setState={setState} />\r\n            <Labels component themeNumber={state.themeNumber} state={state}  setState={setState} />\r\n            <Notes component themeNumber={state.themeNumber} state={state} setState={setState} />\r\n        </div>);\r\n    }\r\n    catch (err) {\r\n        console.log(err);\r\n    }\r\n\r\n\r\n\r\n}\r\nexport default Loaded;"],"sourceRoot":""}